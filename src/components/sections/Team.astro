---
import { getCollection } from "astro:content";
import { getLangFromUrl, useTranslations } from "../../i18n/utils";
import Teams from "../ui/Teams";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const teams = await getCollection("teams");

const teamsData = teams.map((team) => team.data);

const translations = {
  title: t("team.title"),
  subtitle: t("team.subtitle"),
};

export const prerender = true;
---

<Teams
  teams={teamsData}
  translations={translations}
  lang={lang}
  client:load
/>
