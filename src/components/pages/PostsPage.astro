---
import { useTranslations } from "@/i18n/utils";
import BaseLayout from "@/layouts/BaseLayout.astro";
import PostsList from "@/components/ui/PostsList.astro";
import Pagination from "@/components/ui/Pagination.astro";

const { page, lang } = Astro.props;

const { data: posts, currentPage, lastPage: totalPages } = page;

const t = useTranslations(lang);
---

<BaseLayout title="Blog" isSubPage={true}>
  <section class="bg-white">
    <div class="container px-6 py-10 xl:py-20 mx-auto">
      <div class="flex flex-col justify-center items-center py-16">
        <h1
          class="text-3xl lg:text-4xl xl:text-5xl 2xl:text-7xl font-semibold text-purpureus-600 mb-4"
        >
          {t("blog.title")}
        </h1>

        <p class="text-md text-gray-600">{t("blog.subtitle")}</p>
      </div>

      <PostsList posts={posts} t={t} lang={lang} />

      {/* PaginaciÃ³n */}
      {
        posts.length > 0 && (
          <Pagination
            currentPage={currentPage}
            totalPages={totalPages}
            basePath={`/${lang}/blog`}
            t={t}
          />
        )
      }
    </div>
  </section>
</BaseLayout>
